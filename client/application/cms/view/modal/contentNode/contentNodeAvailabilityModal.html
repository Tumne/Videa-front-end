
<div class="modal-header">
    <button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    <h4 class="modal-title">Edit Availability Dates</h4><br />
    <p>Edit availability dates for <b>{{content.designation}}</b> on multiple buckets.</p>
</div>
<div class="modal-body">
    <div class="col-md-12">
        <h5><strong>Availability</strong></h5><br />
        <div ng-repeat="bucket in globalBucketList | orderBy:'name' ">

            <div class="panel panel-default">
                <div class="panel-heading">Available on: &emsp; <input type="checkbox" ng-model="bucket.selected"> {{bucket.name}}</div>
                <div class="panel-body">
                    <div class="row hub-modal-row span-no-padding" ng-show="bucket.selected">
                        <div class="col-md-6">
                            Available From:<br /><br />
                            <div class="col-md-12">
                                <div class="col-md-5" ng-controller="DatepickerDemoCtrl">
                            <span class="input-group">
                                <input type="text" class="form-control"
                                       ng-disabled="!bucket.selected" uib-datepicker-popup="{{format}}"
                                       ng-model="bucket.fromDate" is-open="calendar['c'+ $index]"
                                       datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats"/>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="changeCalendar('c'+ $index); open($event);"><i class="fa fa-calendar"></i></button>
                                </span>
                            </span>
                                </div>
                                <div class="col-md-2 span-no-padding">
                            <span class="pull-right">
                                <!--   <input ng-disabled="!bucket.selected" type="checkbox" ng-init="isFromTimeDisabled = false" ng-model="isFromTimeDisabled">-->
                                Time:
                            </span>
                                </div>
                                <div ng-controller="TimepickerDemoCtrl" class="col-md-5 less-top">
                                    <timepicker ng-model="bucket.fromDate"
                                                ng-disabled="!isFromTimeDisabled || !bucket.selected"
                                                ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            Expires:<br /><br />
                            <div class="col-md-12">
                                <div class="col-md-5" ng-controller="DatepickerDemoCtrl">
                            <span class="input-group">
                                <input type="text" class="form-control"
                                       ng-disabled="neverExpires || !bucket.selected" uib-datepicker-popup="{{format}}"
                                       ng-model="bucket.expireDate" is-open="calendar['ec'+ $index]"
                                       datepicker-options="dateOptions" ng-required="true" close-text="Close" min-date="bucket.fromDate" alt-input-formats="altInputFormats"/>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="changeCalendar('ec'+ $index); open($event);"><i class="fa fa-calendar"></i></button>
                                </span>
                            </span>
                                    <br />
                                    <!--<input ng-disabled="!bucket.selected" type="checkbox" ng-model="bucket.neverExpires"> Never Expires-->
                                </div>
                                <div class="col-md-2 span-no-padding">
                            <span class="pull-right">
                                <!--  <input ng-disabled="neverExpires || !bucket.selected" type="checkbox" ng-init="isExpireTimeDisabled = false" ng-model="isExpireTimeDisabled">-->
                                Time:
                            </span>
                                </div>
                                <div ng-controller="TimepickerDemoCtrl" class="col-md-5 less-top">
                                    <timepicker ng-model="bucket.expireDate"
                                                ng-disabled="neverExpires || !isExpireTimeDisabled || !bucket.selected"
                                                ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-secondary-auto-width bg-orangeyellow" ng-click="cancel()">Cancel</button>
    <button type="button" class="btn btn-secondary-auto-width bg-darkmint" ng-click="updateAvailability()" data-dismiss="modal">Save</button>
</div>
